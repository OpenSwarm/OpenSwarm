\hypertarget{io__HDI_8c}{}\subsection{platform/e-\/puck/io\+\_\+\+H\+D\+I.c File Reference}
\label{io__HDI_8c}\index{platform/e-\/puck/io\+\_\+\+H\+D\+I.\+c@{platform/e-\/puck/io\+\_\+\+H\+D\+I.\+c}}


Hardware dependent implementations to control the I\+O timer and to (un)register I\+O Handler.  


{\ttfamily \#include \char`\"{}io\+\_\+\+H\+D\+I.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include \char`\"{}D\+S\+P\+I\+C30\+F6014\+A\+\_\+\+H\+D\+I.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../definitions.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../interrupts.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../memory.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}motors.\+h\char`\"{}}\\*
Include dependency graph for io\+\_\+\+H\+D\+I.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d97/io__HDI_8c__incl}
\end{center}
\end{figure}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{io__HDI_8c_a28d9d614c7e8a65e8df36182458aeceb}{Sys\+\_\+\+Init\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_a2ca778d7c3009440daf51ebba3b93981}{Sys\+\_\+\+Start\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_a9633296082b6b8d5ef26753552bdef4c}{Sys\+\_\+\+Stop\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_a5a2419ba8907346f4238c00891cad779}{Sys\+\_\+\+Continue\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_a552c0616c1a6e9d5ad6c5b1f5f7d64f5}{Sys\+\_\+\+Reset\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_a226557d5e42f7e29ddaff30606138459}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((interrupt, no\+\_\+auto\+\_\+psv))
\item 
void \hyperlink{io__HDI_8c_afcf152ee3a487aacca4dcdbd6a624411}{Sys\+\_\+\+Disable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_ae88f54a11740ba7a16ba5f5bab8bf42b}{Sys\+\_\+\+Enable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_a14c5205e2da511c4916a262b3a0f25f0}{Sys\+\_\+\+Force\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{io__HDI_8c_a396d4ef0ff2926650c4b38ebcb00c201}{Sys\+\_\+\+I\+O\+Timer\+\_\+code\+\_\+\+H\+D\+I} ()
\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
sys\+\_\+periodical\+\_\+\+I\+O\+Handler $\ast$ \hyperlink{io__HDI_8c_a3ad4a33dee3d7041caaa39bd294644dd}{sys\+\_\+iohandlers}
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
Hardware dependent implementations to control the I\+O timer and to (un)register I\+O Handler. 

\begin{DoxyAuthor}{Author}
Stefan M. Trenkwalder \href{mailto:s.trenkwalder@openswarm.org}{\tt s.\+trenkwalder@openswarm.\+org} 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0
\end{DoxyVersion}
\begin{DoxyDate}{Date}
10 August 2015
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
adapted Free\+B\+S\+D License (see \href{http://openswarm.org/license}{\tt http\+://openswarm.\+org/license}) 
\end{DoxyCopyright}


\subsubsection{Function Documentation}
\hypertarget{io__HDI_8c_a226557d5e42f7e29ddaff30606138459}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{\+\_\+\+\_\+attribute\+\_\+\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(interrupt, no\+\_\+auto\+\_\+psv)}]{}
\end{DoxyParamCaption}
)}\label{io__HDI_8c_a226557d5e42f7e29ddaff30606138459}
This Function starts the task-\/scheduling algorithm

Interrupt Service Routine for the Timer1 (alternate) starts the task-\/scheduling algorithm

Address error trap.

This function is called when an address error occurs. That means that a call address of a function or in the stack addresses an area outside the memory. Similarly, if a pointer points to memory outside the range, this trap happens.

Stack error trap.

This function is called when an stack error occurs. That means that the stack pointer, stack pointer limit, or frame pointer are pointing outside their range.

Math error trap.

This function is called when an math error occurs. That means an illegal math operation was performed (such as division by 0 or Na\+N).

Alternative Oscillator fail trap.

This function is called when an oscillator fail occurs. This should never happen.

Alternative address error trap.

This function is called when an address error occurs. That means that a call address of a function or in the stack addresses an area outside the memory. Similarly, if a pointer points to memory outside the range, this trap happens.

Alternative stack error trap.

This function is called when an stack error occurs. That means that the stack pointer, stack pointer limit, or frame pointer are pointing outside their range.

Alternative math error trap.

This function is called when an math error occurs. That means an illegal math operation was performed (such as division by 0 or Na\+N).

Default interrupt service routine.

This function is called when no other interrupt routine is specified. 

Definition at line 103 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_a5a2419ba8907346f4238c00891cad779}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Continue\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Continue\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Continue\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Continue\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Continue\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Continue\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_a5a2419ba8907346f4238c00891cad779}
This function continues the I/\+O Timer. 

Definition at line 81 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_afcf152ee3a487aacca4dcdbd6a624411}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Disable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Disable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Disable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Disable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Disable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Disable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_afcf152ee3a487aacca4dcdbd6a624411}
Disables the Timer1 interrupt and sets the interrupt flag to 0 

Definition at line 122 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_ae88f54a11740ba7a16ba5f5bab8bf42b}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Enable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Enable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Enable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Enable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Enable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Enable\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_ae88f54a11740ba7a16ba5f5bab8bf42b}
Enables the Timer1 interrupt and leaves the interrupt flag to its value. If the flag was set, the Timer1 interrupt will be emitted after executing this function. 

Definition at line 132 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_a14c5205e2da511c4916a262b3a0f25f0}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Force\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Force\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Force\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Force\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Force\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Force\+\_\+\+I\+O\+Timer\+Interrupt\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_a14c5205e2da511c4916a262b3a0f25f0}
forces the Timer1 interrupt to occur. 

Definition at line 140 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_a28d9d614c7e8a65e8df36182458aeceb}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Init\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Init\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Init\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Init\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Init\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Init\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_a28d9d614c7e8a65e8df36182458aeceb}
This function initialises the I/\+O Timer. 

Definition at line 33 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_a396d4ef0ff2926650c4b38ebcb00c201}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+I\+O\+Timer\+\_\+code\+\_\+\+H\+D\+I@{Sys\+\_\+\+I\+O\+Timer\+\_\+code\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+I\+O\+Timer\+\_\+code\+\_\+\+H\+D\+I@{Sys\+\_\+\+I\+O\+Timer\+\_\+code\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+I\+O\+Timer\+\_\+code\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+I\+O\+Timer\+\_\+code\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_a396d4ef0ff2926650c4b38ebcb00c201}
This function is executed every time the I/\+O timer is active and executes all I/\+O handlers 

Definition at line 149 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_a552c0616c1a6e9d5ad6c5b1f5f7d64f5}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Reset\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Reset\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Reset\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Reset\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Reset\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Reset\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_a552c0616c1a6e9d5ad6c5b1f5f7d64f5}
This function resets the I/\+O Timer. 

Definition at line 93 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_a2ca778d7c3009440daf51ebba3b93981}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Start\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Start\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Start\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Start\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Start\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Start\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_a2ca778d7c3009440daf51ebba3b93981}
This function starts the I/\+O Timer. $<$ interrupt priority for the I/\+O timer interrupt 

Definition at line 57 of file io\+\_\+\+H\+D\+I.\+c.

\hypertarget{io__HDI_8c_a9633296082b6b8d5ef26753552bdef4c}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Stop\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Stop\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Stop\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Stop\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Stop\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Stop\+\_\+\+I\+O\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{io__HDI_8c_a9633296082b6b8d5ef26753552bdef4c}
This function stops the I/\+O Timer. 

Definition at line 69 of file io\+\_\+\+H\+D\+I.\+c.



\subsubsection{Variable Documentation}
\hypertarget{io__HDI_8c_a3ad4a33dee3d7041caaa39bd294644dd}{}\index{io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}!sys\+\_\+iohandlers@{sys\+\_\+iohandlers}}
\index{sys\+\_\+iohandlers@{sys\+\_\+iohandlers}!io\+\_\+\+H\+D\+I.\+c@{io\+\_\+\+H\+D\+I.\+c}}
\paragraph[{sys\+\_\+iohandlers}]{\setlength{\rightskip}{0pt plus 5cm}sys\+\_\+periodical\+\_\+\+I\+O\+Handler$\ast$ sys\+\_\+iohandlers}\label{io__HDI_8c_a3ad4a33dee3d7041caaa39bd294644dd}
List of I/\+O handlers 

Definition at line 25 of file io\+\_\+\+H\+D\+I.\+c.

