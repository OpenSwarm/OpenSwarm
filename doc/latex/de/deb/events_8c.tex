\hypertarget{events_8c}{}\subsection{events/events.c File Reference}
\label{events_8c}\index{events/events.\+c@{events/events.\+c}}


defines functions to create, (un)subscribe, (un)register, and delete events and related handler.  


{\ttfamily \#include \char`\"{}events.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../processes/process\+\_\+\+Management.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../processes/system\+\_\+\+Timer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../memory.\+h\char`\"{}}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
Include dependency graph for events.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d63/events_8c__incl}
\end{center}
\end{figure}
\subsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structsys__subscribed__process}{sys\+\_\+subscribed\+\_\+process}
\begin{DoxyCompactList}\small\item\em A single linked list element containing the I\+D of a process that is subscribed to a specific event. \end{DoxyCompactList}\item 
struct \hyperlink{structsys__registered__event}{sys\+\_\+registered\+\_\+event}
\begin{DoxyCompactList}\small\item\em A single linked element containing a registered event and its subscribers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structsys__registered__event}{sys\+\_\+registered\+\_\+event} $\ast$ \hyperlink{events_8c_a8ef06e7b0f825589f8b856f43f4b135a}{Sys\+\_\+\+Find\+\_\+\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D)
\item 
bool \hyperlink{events_8c_a67230a5307e77a8112e56436f372926f}{Sys\+\_\+\+Send\+\_\+\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D, void $\ast$data, \hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} data\+\_\+size)
\item 
bool \hyperlink{events_8c_a3b90448a001da0eee45d39ac8bb76ac0}{Sys\+\_\+\+Send\+\_\+\+Int\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D, \hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} data)
\item 
bool \hyperlink{events_8c_a5d9657772509ddb7ac6f6e1aa5730308}{Sys\+\_\+\+Register\+\_\+\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D)
\item 
bool \hyperlink{events_8c_a04afa9d5b243723e844d49ab9a7fd21e}{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D, \hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} pid, \hyperlink{events_8h_a3db5730a7fed6827a4c46ff3fae3e55b}{p\+Event\+Handler\+Function} handler, \hyperlink{events_8h_a653a4a4b7d9f5a65e1415365267a9d9e}{p\+Condition\+Function} condition)
\item 
void \hyperlink{events_8c_a41c81e9472691694352ac8316dc0ddbf}{Sys\+\_\+\+Unregister\+\_\+\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D)
\item 
void \hyperlink{events_8c_a267d472a623ac449be3922865e736029}{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D, \hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} pid)
\item 
void \hyperlink{events_8c_ad95a32faf7ce44ee8e8057029373fe07}{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D, \hyperlink{events_8h_a3db5730a7fed6827a4c46ff3fae3e55b}{p\+Event\+Handler\+Function} func, \hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} pid)
\item 
bool \hyperlink{events_8c_a9fc67102602189c4d1835c315719e368}{Sys\+\_\+\+Is\+Event\+Registered} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} event\+I\+D)
\item 
void \hyperlink{events_8c_a71efab58004708fcd7e645ad10a213c1}{Sys\+\_\+\+Unsubscribe\+\_\+\+Process} (\hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} pid)
\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structsys__registered__event}{sys\+\_\+registered\+\_\+event} $\ast$ \hyperlink{events_8c_a7b6f4f08f23614fda314aebb80042b6c}{registered\+\_\+events} = 0
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
defines functions to create, (un)subscribe, (un)register, and delete events and related handler. 

\begin{DoxyAuthor}{Author}
Stefan M. Trenkwalder \href{mailto:s.trenkwalder@openswarm.org}{\tt s.\+trenkwalder@openswarm.\+org} 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0
\end{DoxyVersion}
\begin{DoxyDate}{Date}
23 March 2015
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
adapted Free\+B\+S\+D License (see \href{http://openswarm.org/license}{\tt http\+://openswarm.\+org/license}) 
\end{DoxyCopyright}


\subsubsection{Function Documentation}
\hypertarget{events_8c_a8ef06e7b0f825589f8b856f43f4b135a}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Find\+\_\+\+Event@{Sys\+\_\+\+Find\+\_\+\+Event}}
\index{Sys\+\_\+\+Find\+\_\+\+Event@{Sys\+\_\+\+Find\+\_\+\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Find\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sys\+\_\+registered\+\_\+event} $\ast$ Sys\+\_\+\+Find\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a8ef06e7b0f825589f8b856f43f4b135a}
This function returns the data structure of an event if the event\+I\+D was registered otherwise it\textquotesingle{}s 0.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the data structure of the found event ( or 0 if it wasn\textquotesingle{}t found) 
\end{DoxyReturn}


Definition at line 307 of file events.\+c.

\hypertarget{events_8c_a9fc67102602189c4d1835c315719e368}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Is\+Event\+Registered@{Sys\+\_\+\+Is\+Event\+Registered}}
\index{Sys\+\_\+\+Is\+Event\+Registered@{Sys\+\_\+\+Is\+Event\+Registered}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Is\+Event\+Registered}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Is\+Event\+Registered (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a9fc67102602189c4d1835c315719e368}
returns true if the event was registered


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
is the event registered? 
\end{DoxyReturn}


Definition at line 328 of file events.\+c.

\hypertarget{events_8c_a5d9657772509ddb7ac6f6e1aa5730308}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Register\+\_\+\+Event@{Sys\+\_\+\+Register\+\_\+\+Event}}
\index{Sys\+\_\+\+Register\+\_\+\+Event@{Sys\+\_\+\+Register\+\_\+\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Register\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Register\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a5d9657772509ddb7ac6f6e1aa5730308}
This function registers an new event. The registration tells the operating system that this event can occur.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was it successful. 
\end{DoxyReturn}


Definition at line 100 of file events.\+c.

\hypertarget{events_8c_a67230a5307e77a8112e56436f372926f}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Send\+\_\+\+Event@{Sys\+\_\+\+Send\+\_\+\+Event}}
\index{Sys\+\_\+\+Send\+\_\+\+Event@{Sys\+\_\+\+Send\+\_\+\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Send\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Send\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D, }
\item[{void $\ast$}]{data, }
\item[{{\bf uint}}]{data\+\_\+size}
\end{DoxyParamCaption}
)}\label{events_8c_a67230a5307e77a8112e56436f372926f}
This function sends an event to all subscribers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em data} & pointer to the data that want to be sent as an event \\
\hline
\mbox{\tt in}  & {\em data\+\_\+size} & size of the data in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if it was successful. 
\end{DoxyReturn}


Definition at line 61 of file events.\+c.

\hypertarget{events_8c_a3b90448a001da0eee45d39ac8bb76ac0}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Send\+\_\+\+Int\+Event@{Sys\+\_\+\+Send\+\_\+\+Int\+Event}}
\index{Sys\+\_\+\+Send\+\_\+\+Int\+Event@{Sys\+\_\+\+Send\+\_\+\+Int\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Send\+\_\+\+Int\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Send\+\_\+\+Int\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D, }
\item[{{\bf uint}}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{events_8c_a3b90448a001da0eee45d39ac8bb76ac0}
This function sends an integer (16-\/bit) to all subscribers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em data} & integer value that should be sent as an event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was it successful. 
\end{DoxyReturn}


Definition at line 88 of file events.\+c.

\hypertarget{events_8c_a04afa9d5b243723e844d49ab9a7fd21e}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event@{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event}}
\index{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event@{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D, }
\item[{{\bf uint}}]{pid, }
\item[{{\bf p\+Event\+Handler\+Function}}]{handler, }
\item[{{\bf p\+Condition\+Function}}]{condition}
\end{DoxyParamCaption}
)}\label{events_8c_a04afa9d5b243723e844d49ab9a7fd21e}
This function subscribes a specific handler function to an process and a specific event


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em pid} & I\+D of the process \\
\hline
\mbox{\tt in}  & {\em handler} & pointer to the function that should handle the event data \\
\hline
\mbox{\tt in}  & {\em condition} & pointer to the function that decides if the handler should be executed or not \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was it successful. 
\end{DoxyReturn}


Definition at line 142 of file events.\+c.

\hypertarget{events_8c_a41c81e9472691694352ac8316dc0ddbf}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unregister\+\_\+\+Event@{Sys\+\_\+\+Unregister\+\_\+\+Event}}
\index{Sys\+\_\+\+Unregister\+\_\+\+Event@{Sys\+\_\+\+Unregister\+\_\+\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Unregister\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unregister\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a41c81e9472691694352ac8316dc0ddbf}
This function unregisters an event


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}


Definition at line 187 of file events.\+c.

\hypertarget{events_8c_a267d472a623ac449be3922865e736029}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event}}
\index{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D, }
\item[{{\bf uint}}]{pid}
\end{DoxyParamCaption}
)}\label{events_8c_a267d472a623ac449be3922865e736029}
This function unsubscribes an event


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em pid} & I\+D of the process \\
\hline
\end{DoxyParams}


Definition at line 238 of file events.\+c.

\hypertarget{events_8c_ad95a32faf7ce44ee8e8057029373fe07}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event}}
\index{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{event\+I\+D, }
\item[{{\bf p\+Event\+Handler\+Function}}]{func, }
\item[{{\bf uint}}]{pid}
\end{DoxyParamCaption}
)}\label{events_8c_ad95a32faf7ce44ee8e8057029373fe07}
This function only unsubscribes a specific handler function


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em func} & pointer to the handler function \\
\hline
\mbox{\tt in}  & {\em pid} & I\+D of the process \\
\hline
\end{DoxyParams}


Definition at line 273 of file events.\+c.

\hypertarget{events_8c_a71efab58004708fcd7e645ad10a213c1}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unsubscribe\+\_\+\+Process@{Sys\+\_\+\+Unsubscribe\+\_\+\+Process}}
\index{Sys\+\_\+\+Unsubscribe\+\_\+\+Process@{Sys\+\_\+\+Unsubscribe\+\_\+\+Process}!events.\+c@{events.\+c}}
\paragraph[{Sys\+\_\+\+Unsubscribe\+\_\+\+Process}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unsubscribe\+\_\+\+Process (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{pid}
\end{DoxyParamCaption}
)}\label{events_8c_a71efab58004708fcd7e645ad10a213c1}
unsubscribes all events that were subscribed to a process


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pid} & process identifier \\
\hline
\end{DoxyParams}


Definition at line 347 of file events.\+c.



\subsubsection{Variable Documentation}
\hypertarget{events_8c_a7b6f4f08f23614fda314aebb80042b6c}{}\index{events.\+c@{events.\+c}!registered\+\_\+events@{registered\+\_\+events}}
\index{registered\+\_\+events@{registered\+\_\+events}!events.\+c@{events.\+c}}
\paragraph[{registered\+\_\+events}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sys\+\_\+registered\+\_\+event}$\ast$ registered\+\_\+events = 0}\label{events_8c_a7b6f4f08f23614fda314aebb80042b6c}
pointer to the List of registered events 

Definition at line 48 of file events.\+c.

