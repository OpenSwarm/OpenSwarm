\hypertarget{events_8c}{}\section{events/events.c File Reference}
\label{events_8c}\index{events/events.\+c@{events/events.\+c}}


defines functions to create, (un)subscribe, (un)register, and delete events and related handler.  


{\ttfamily \#include \char`\"{}events.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../processes/process\+\_\+\+Management.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../processes/system\+\_\+\+Timer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../memory.\+h\char`\"{}}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
Include dependency graph for events.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d63/events_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structsys__subscribed__process__s}{sys\+\_\+subscribed\+\_\+process\+\_\+s}
\begin{DoxyCompactList}\small\item\em A single linked list element containing the I\+D of a subscribed process. \end{DoxyCompactList}\item 
struct \hyperlink{structsys__registered__event__s}{sys\+\_\+registered\+\_\+event\+\_\+s}
\begin{DoxyCompactList}\small\item\em A single linked element containing a registered event and its subscribers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structsys__subscribed__process__s}{sys\+\_\+subscribed\+\_\+process\+\_\+s} \hyperlink{events_8c_a855a9b5c8c07fedd9f2a8bbf5ee9b4f0}{sys\+\_\+subscribed\+\_\+process}
\begin{DoxyCompactList}\small\item\em A single linked list element containing the I\+D of a subscribed process. \end{DoxyCompactList}\item 
typedef struct \hyperlink{structsys__registered__event__s}{sys\+\_\+registered\+\_\+event\+\_\+s} \hyperlink{events_8c_ab7779e3e7a7914df656c29f2a963989b}{sys\+\_\+registered\+\_\+event}
\begin{DoxyCompactList}\small\item\em A single linked element containing a registered event and its subscribers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{events_8c_ab7779e3e7a7914df656c29f2a963989b}{sys\+\_\+registered\+\_\+event} $\ast$ \hyperlink{events_8c_a948c8ba8324fa67a3e966faa5566902e}{Sys\+\_\+\+Find\+\_\+\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D)
\item 
bool \hyperlink{events_8c_a24dadcefc1b4c45c50fb351efc8e841c}{Sys\+\_\+\+Send\+\_\+\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D, void $\ast$data, \hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} data\+\_\+size)
\item 
bool \hyperlink{events_8c_ae2b6a4d1db2b3fb8777fa56297001d05}{Sys\+\_\+\+Send\+\_\+\+Int\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D, \hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} data)
\item 
bool \hyperlink{events_8c_a386acd8573c1118d80986721664d2689}{Sys\+\_\+\+Register\+\_\+\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D)
\item 
bool \hyperlink{events_8c_abbd55109964743556ffc20f8520bfabf}{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D, \hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} pid, \hyperlink{events_8h_a38c799788eea576b2d878371da3d5385}{p\+Event\+Handler\+Function} handler, \hyperlink{events_8h_a653a4a4b7d9f5a65e1415365267a9d9e}{p\+Condition\+Function} condition)
\item 
void \hyperlink{events_8c_a1d203ee6c6d21cb00d5b84a03bbbda6b}{Sys\+\_\+\+Unregister\+\_\+\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D)
\item 
void \hyperlink{events_8c_a0f37de65bd64e262ea80d96d7e691a8d}{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D, \hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} pid)
\item 
void \hyperlink{events_8c_a8ce7354b7a87c69d9bd246a8f5a5ca60}{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D, \hyperlink{events_8h_a38c799788eea576b2d878371da3d5385}{p\+Event\+Handler\+Function} func, \hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} pid)
\item 
bool \hyperlink{events_8c_a2578b4d7c0bd540acd4414d00e758ed1}{Sys\+\_\+\+Is\+Event\+Registered} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} event\+I\+D)
\item 
void \hyperlink{events_8c_ad8cea2286df3506129e686d1fcfa674c}{Sys\+\_\+\+Unsubscribe\+\_\+\+Process} (\hyperlink{definitions_8h_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} pid)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{events_8c_ab7779e3e7a7914df656c29f2a963989b}{sys\+\_\+registered\+\_\+event} $\ast$ \hyperlink{events_8c_a7b6f4f08f23614fda314aebb80042b6c}{registered\+\_\+events} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
defines functions to create, (un)subscribe, (un)register, and delete events and related handler. 

\begin{DoxyAuthor}{Author}
Stefan M. Trenkwalder \href{mailto:s.trenkwalder@openswarm.org}{\tt s.\+trenkwalder@openswarm.\+org} 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0
\end{DoxyVersion}
\begin{DoxyDate}{Date}
23 March 2015
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
adapted Free\+B\+S\+D License (see \href{http://openswarm.org/license}{\tt http\+://openswarm.\+org/license}) 
\end{DoxyCopyright}


\subsection{Typedef Documentation}
\hypertarget{events_8c_ab7779e3e7a7914df656c29f2a963989b}{}\index{events.\+c@{events.\+c}!sys\+\_\+registered\+\_\+event@{sys\+\_\+registered\+\_\+event}}
\index{sys\+\_\+registered\+\_\+event@{sys\+\_\+registered\+\_\+event}!events.\+c@{events.\+c}}
\subsubsection[{sys\+\_\+registered\+\_\+event}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf sys\+\_\+registered\+\_\+event\+\_\+s} {\bf sys\+\_\+registered\+\_\+event}}\label{events_8c_ab7779e3e7a7914df656c29f2a963989b}


A single linked element containing a registered event and its subscribers. 

It is a single linked list element that contains registered events and a list of processes that are subscribed to it. \hypertarget{events_8c_a855a9b5c8c07fedd9f2a8bbf5ee9b4f0}{}\index{events.\+c@{events.\+c}!sys\+\_\+subscribed\+\_\+process@{sys\+\_\+subscribed\+\_\+process}}
\index{sys\+\_\+subscribed\+\_\+process@{sys\+\_\+subscribed\+\_\+process}!events.\+c@{events.\+c}}
\subsubsection[{sys\+\_\+subscribed\+\_\+process}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf sys\+\_\+subscribed\+\_\+process\+\_\+s} {\bf sys\+\_\+subscribed\+\_\+process}}\label{events_8c_a855a9b5c8c07fedd9f2a8bbf5ee9b4f0}


A single linked list element containing the I\+D of a subscribed process. 



\subsection{Function Documentation}
\hypertarget{events_8c_a948c8ba8324fa67a3e966faa5566902e}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Find\+\_\+\+Event@{Sys\+\_\+\+Find\+\_\+\+Event}}
\index{Sys\+\_\+\+Find\+\_\+\+Event@{Sys\+\_\+\+Find\+\_\+\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Find\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sys\+\_\+registered\+\_\+event} $\ast$ Sys\+\_\+\+Find\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a948c8ba8324fa67a3e966faa5566902e}
finds the registered event

This function returns the data structure of an event if the event\+I\+D was registered otherwise it\textquotesingle{}s 0.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the data structure of the found event ( or 0 if it wasn\textquotesingle{}t found) 
\end{DoxyReturn}


Definition at line 315 of file events.\+c.

\hypertarget{events_8c_a2578b4d7c0bd540acd4414d00e758ed1}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Is\+Event\+Registered@{Sys\+\_\+\+Is\+Event\+Registered}}
\index{Sys\+\_\+\+Is\+Event\+Registered@{Sys\+\_\+\+Is\+Event\+Registered}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Is\+Event\+Registered}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Is\+Event\+Registered (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a2578b4d7c0bd540acd4414d00e758ed1}
returns true if the event was registered

returns true if the event was registered


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
is the event registered? 
\end{DoxyReturn}


Definition at line 337 of file events.\+c.

\hypertarget{events_8c_a386acd8573c1118d80986721664d2689}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Register\+\_\+\+Event@{Sys\+\_\+\+Register\+\_\+\+Event}}
\index{Sys\+\_\+\+Register\+\_\+\+Event@{Sys\+\_\+\+Register\+\_\+\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Register\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Register\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a386acd8573c1118d80986721664d2689}
Function to register an event

This function registers an new event. The registration tells the operating system that this event can occur.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was it successful. 
\end{DoxyReturn}


Definition at line 103 of file events.\+c.

\hypertarget{events_8c_a24dadcefc1b4c45c50fb351efc8e841c}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Send\+\_\+\+Event@{Sys\+\_\+\+Send\+\_\+\+Event}}
\index{Sys\+\_\+\+Send\+\_\+\+Event@{Sys\+\_\+\+Send\+\_\+\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Send\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Send\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D, }
\item[{void $\ast$}]{data, }
\item[{{\bf uint16}}]{data\+\_\+size}
\end{DoxyParamCaption}
)}\label{events_8c_a24dadcefc1b4c45c50fb351efc8e841c}
Function to send an event

This function sends an event to all subscribers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em data} & pointer to the data that want to be sent as an event \\
\hline
\mbox{\tt in}  & {\em data\+\_\+size} & size of the data in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was it successful. 
\end{DoxyReturn}


Definition at line 62 of file events.\+c.

\hypertarget{events_8c_ae2b6a4d1db2b3fb8777fa56297001d05}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Send\+\_\+\+Int\+Event@{Sys\+\_\+\+Send\+\_\+\+Int\+Event}}
\index{Sys\+\_\+\+Send\+\_\+\+Int\+Event@{Sys\+\_\+\+Send\+\_\+\+Int\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Send\+\_\+\+Int\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Send\+\_\+\+Int\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D, }
\item[{{\bf uint16}}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{events_8c_ae2b6a4d1db2b3fb8777fa56297001d05}
Function to send an integer event

This function sends an integer (16-\/bit) to all subscribers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em data} & integer value that should be sent as an event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was it successful. 
\end{DoxyReturn}


Definition at line 90 of file events.\+c.

\hypertarget{events_8c_abbd55109964743556ffc20f8520bfabf}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event@{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event}}
\index{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event@{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}bool Sys\+\_\+\+Subscribe\+\_\+to\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D, }
\item[{{\bf uint16}}]{pid, }
\item[{{\bf p\+Event\+Handler\+Function}}]{handler, }
\item[{{\bf p\+Condition\+Function}}]{condition}
\end{DoxyParamCaption}
)}\label{events_8c_abbd55109964743556ffc20f8520bfabf}
subscribes a specific handler function to an process and a specific event

This function subscribes a specific handler function to an process and a specific event


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em pid} & I\+D of the process \\
\hline
\mbox{\tt in}  & {\em handler} & pointer to the function that should handle the event data \\
\hline
\mbox{\tt in}  & {\em condition} & pointer to the function that decides if the handler should be executed or not \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was it successful. 
\end{DoxyReturn}


Definition at line 146 of file events.\+c.

\hypertarget{events_8c_a1d203ee6c6d21cb00d5b84a03bbbda6b}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unregister\+\_\+\+Event@{Sys\+\_\+\+Unregister\+\_\+\+Event}}
\index{Sys\+\_\+\+Unregister\+\_\+\+Event@{Sys\+\_\+\+Unregister\+\_\+\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Unregister\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unregister\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D}
\end{DoxyParamCaption}
)}\label{events_8c_a1d203ee6c6d21cb00d5b84a03bbbda6b}
unregisters an event

This function unregisters an event


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\end{DoxyParams}


Definition at line 192 of file events.\+c.

\hypertarget{events_8c_a0f37de65bd64e262ea80d96d7e691a8d}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event}}
\index{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unsubscribe\+\_\+from\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D, }
\item[{{\bf uint16}}]{pid}
\end{DoxyParamCaption}
)}\label{events_8c_a0f37de65bd64e262ea80d96d7e691a8d}
unsubscribes an event

This function unsubscribes an event


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em pid} & I\+D of the process \\
\hline
\end{DoxyParams}


Definition at line 244 of file events.\+c.

\hypertarget{events_8c_a8ce7354b7a87c69d9bd246a8f5a5ca60}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event}}
\index{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event@{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unsubscribe\+\_\+\+Handler\+\_\+from\+\_\+\+Event (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{event\+I\+D, }
\item[{{\bf p\+Event\+Handler\+Function}}]{func, }
\item[{{\bf uint16}}]{pid}
\end{DoxyParamCaption}
)}\label{events_8c_a8ce7354b7a87c69d9bd246a8f5a5ca60}
only unsubscribes a specific handler function

This function only unsubscribes a specific handler function


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event\+I\+D} & I\+D of the event \\
\hline
\mbox{\tt in}  & {\em func} & pointer to the handler function \\
\hline
\mbox{\tt in}  & {\em pid} & I\+D of the process \\
\hline
\end{DoxyParams}


Definition at line 280 of file events.\+c.

\hypertarget{events_8c_ad8cea2286df3506129e686d1fcfa674c}{}\index{events.\+c@{events.\+c}!Sys\+\_\+\+Unsubscribe\+\_\+\+Process@{Sys\+\_\+\+Unsubscribe\+\_\+\+Process}}
\index{Sys\+\_\+\+Unsubscribe\+\_\+\+Process@{Sys\+\_\+\+Unsubscribe\+\_\+\+Process}!events.\+c@{events.\+c}}
\subsubsection[{Sys\+\_\+\+Unsubscribe\+\_\+\+Process}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Unsubscribe\+\_\+\+Process (
\begin{DoxyParamCaption}
\item[{{\bf uint16}}]{pid}
\end{DoxyParamCaption}
)}\label{events_8c_ad8cea2286df3506129e686d1fcfa674c}
unsubscribes all events that were subscribed to a process

unsubscribes all events that were subscribed to a process


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pid} & process identifier \\
\hline
\end{DoxyParams}


Definition at line 358 of file events.\+c.



\subsection{Variable Documentation}
\hypertarget{events_8c_a7b6f4f08f23614fda314aebb80042b6c}{}\index{events.\+c@{events.\+c}!registered\+\_\+events@{registered\+\_\+events}}
\index{registered\+\_\+events@{registered\+\_\+events}!events.\+c@{events.\+c}}
\subsubsection[{registered\+\_\+events}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sys\+\_\+registered\+\_\+event}$\ast$ registered\+\_\+events = 0}\label{events_8c_a7b6f4f08f23614fda314aebb80042b6c}
pointer to the List of registered events 

Definition at line 48 of file events.\+c.

