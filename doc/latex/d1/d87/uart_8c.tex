\hypertarget{uart_8c}{}\subsection{platform/e-\/puck/uart.c File Reference}
\label{uart_8c}\index{platform/e-\/puck/uart.\+c@{platform/e-\/puck/uart.\+c}}


It declares functions to transmit bytes via U\+A\+R\+T.  


{\ttfamily \#include \char`\"{}uart.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}uart\+\_\+\+H\+D\+I.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../definitions.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../interrupts.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../memory.\+h\char`\"{}}\\*
Include dependency graph for uart.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/uart_8c__incl}
\end{center}
\end{figure}
\subsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{uart_8c_a97c1615b0d3f397079066331c36e9749}{S\+Y\+S\+\_\+\+U\+A\+R\+T1\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}~115000
\item 
\#define \hyperlink{uart_8c_a937e9299d0ad99a931251dd572cc6536}{S\+Y\+S\+\_\+\+U\+A\+R\+T2\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}~115000
\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{uart_8c_a64689486ee92e3dcd519778bc7afd3de}{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T1} (void)
\item 
void \hyperlink{uart_8c_a8ab8608f691dd2652da615b79935ac96}{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T2} (void)
\item 
void \hyperlink{uart_8c_a80f2ec0b87dbbe5c412a8eed603f5a55}{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T1} (void)
\item 
void \hyperlink{uart_8c_adf0cbb7ee9bf3111f4df85d637dbde78}{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T2} (void)
\item 
void \hyperlink{uart_8c_a09b6e9f0a90b382e5bb453035ca337af}{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T1} (\hyperlink{definitions_8h_ad0a349c40dea7b354efa164b090c0a4f}{p\+U\+A\+R\+T\+\_\+reader} func)
\item 
void \hyperlink{uart_8c_a9fad382ce87c7296fe5ba2005d0a7b10}{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T2} (\hyperlink{definitions_8h_ad0a349c40dea7b354efa164b090c0a4f}{p\+U\+A\+R\+T\+\_\+reader} func)
\item 
void \hyperlink{uart_8c_a8528d7cc7f24e0051d8f7697605d9c8f}{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T1} (void $\ast$data, \hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} length)
\item 
void \hyperlink{uart_8c_a40e935da5e650eeaa7a15feddd65322a}{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T2} (void $\ast$data, \hyperlink{definitions_8h_a1445ebbbf93d62972255ec5e89a5ab01}{uint} length)
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
It declares functions to transmit bytes via U\+A\+R\+T. 

\begin{DoxyAuthor}{Author}
Stefan M. Trenkwalder \href{mailto:s.trenkwalder@openswarm.org}{\tt s.\+trenkwalder@openswarm.\+org} 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0
\end{DoxyVersion}
\begin{DoxyDate}{Date}
27 August 2015
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
adapted Free\+B\+S\+D License (see \href{http://openswarm.org/license}{\tt http\+://openswarm.\+org/license}) 
\end{DoxyCopyright}


\subsubsection{Macro Definition Documentation}
\hypertarget{uart_8c_a97c1615b0d3f397079066331c36e9749}{}\index{uart.\+c@{uart.\+c}!S\+Y\+S\+\_\+\+U\+A\+R\+T1\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E@{S\+Y\+S\+\_\+\+U\+A\+R\+T1\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}}
\index{S\+Y\+S\+\_\+\+U\+A\+R\+T1\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E@{S\+Y\+S\+\_\+\+U\+A\+R\+T1\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}!uart.\+c@{uart.\+c}}
\paragraph[{S\+Y\+S\+\_\+\+U\+A\+R\+T1\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Y\+S\+\_\+\+U\+A\+R\+T1\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E~115000}\label{uart_8c_a97c1615b0d3f397079066331c36e9749}
Baudrate for U\+A\+R\+T 1 (bits/s) 

Definition at line 22 of file uart.\+c.

\hypertarget{uart_8c_a937e9299d0ad99a931251dd572cc6536}{}\index{uart.\+c@{uart.\+c}!S\+Y\+S\+\_\+\+U\+A\+R\+T2\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E@{S\+Y\+S\+\_\+\+U\+A\+R\+T2\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}}
\index{S\+Y\+S\+\_\+\+U\+A\+R\+T2\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E@{S\+Y\+S\+\_\+\+U\+A\+R\+T2\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}!uart.\+c@{uart.\+c}}
\paragraph[{S\+Y\+S\+\_\+\+U\+A\+R\+T2\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Y\+S\+\_\+\+U\+A\+R\+T2\+\_\+\+B\+A\+U\+D\+R\+A\+T\+E~115000}\label{uart_8c_a937e9299d0ad99a931251dd572cc6536}
Baudrate for U\+A\+R\+T 2 (bits/s) 

Definition at line 23 of file uart.\+c.



\subsubsection{Function Documentation}
\hypertarget{uart_8c_a64689486ee92e3dcd519778bc7afd3de}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T1}}
\index{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T1}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T1}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T1 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{uart_8c_a64689486ee92e3dcd519778bc7afd3de}
This function initialises U\+A\+R\+T1. 

Definition at line 31 of file uart.\+c.

\hypertarget{uart_8c_a8ab8608f691dd2652da615b79935ac96}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T2}}
\index{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T2}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T2}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Init\+\_\+\+U\+A\+R\+T2 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{uart_8c_a8ab8608f691dd2652da615b79935ac96}
This function initialises U\+A\+R\+T2. 

Definition at line 40 of file uart.\+c.

\hypertarget{uart_8c_a09b6e9f0a90b382e5bb453035ca337af}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T1}}
\index{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T1}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T1}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T1 (
\begin{DoxyParamCaption}
\item[{{\bf p\+U\+A\+R\+T\+\_\+reader}}]{func}
\end{DoxyParamCaption}
)}\label{uart_8c_a09b6e9f0a90b382e5bb453035ca337af}
defines a function that processes received bytes (U\+A\+R\+T1). This defined callback function is only executed once by arrival of one byte.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em func} & pointer to the function that should process the received byte(s). \\
\hline
\end{DoxyParams}


Definition at line 72 of file uart.\+c.

\hypertarget{uart_8c_a9fad382ce87c7296fe5ba2005d0a7b10}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T2}}
\index{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T2}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T2}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Set\+Reading\+Function\+\_\+\+U\+A\+R\+T2 (
\begin{DoxyParamCaption}
\item[{{\bf p\+U\+A\+R\+T\+\_\+reader}}]{func}
\end{DoxyParamCaption}
)}\label{uart_8c_a9fad382ce87c7296fe5ba2005d0a7b10}
defines a function that processes received bytes (U\+A\+R\+T2). This defined callback function is only executed once by arrival of one byte.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em func} & pointer to the function that should process the received byte(s). \\
\hline
\end{DoxyParams}


Definition at line 82 of file uart.\+c.

\hypertarget{uart_8c_a80f2ec0b87dbbe5c412a8eed603f5a55}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T1}}
\index{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T1}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T1}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T1 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{uart_8c_a80f2ec0b87dbbe5c412a8eed603f5a55}
This function starts U\+A\+R\+T1.

\begin{DoxyNote}{Note}
When executed this function, bytes can be received or transmitted at any time. 
\end{DoxyNote}


Definition at line 51 of file uart.\+c.

\hypertarget{uart_8c_adf0cbb7ee9bf3111f4df85d637dbde78}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T2}}
\index{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T2}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T2}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Start\+\_\+\+U\+A\+R\+T2 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{uart_8c_adf0cbb7ee9bf3111f4df85d637dbde78}
This function starts U\+A\+R\+T2.

\begin{DoxyNote}{Note}
When executed this function, bytes can be received or transmitted at any time. 
\end{DoxyNote}


Definition at line 62 of file uart.\+c.

\hypertarget{uart_8c_a8528d7cc7f24e0051d8f7697605d9c8f}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T1}}
\index{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T1@{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T1}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T1}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T1 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{data, }
\item[{{\bf uint}}]{length}
\end{DoxyParamCaption}
)}\label{uart_8c_a8528d7cc7f24e0051d8f7697605d9c8f}
This function writes sequentially the bytes on the U\+A\+R\+T1.

\begin{DoxyNote}{Note}
The data will be put into a queue, where it will be sent as soon as the U\+A\+R\+T is idle
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & pointer to the bytes that should be transmitted. \\
\hline
\mbox{\tt in}  & {\em length} & number of bytes to send. \\
\hline
\end{DoxyParams}


Definition at line 95 of file uart.\+c.

\hypertarget{uart_8c_a40e935da5e650eeaa7a15feddd65322a}{}\index{uart.\+c@{uart.\+c}!Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T2}}
\index{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T2@{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T2}!uart.\+c@{uart.\+c}}
\paragraph[{Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T2}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Writeto\+\_\+\+U\+A\+R\+T2 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{data, }
\item[{{\bf uint}}]{length}
\end{DoxyParamCaption}
)}\label{uart_8c_a40e935da5e650eeaa7a15feddd65322a}
This function writes sequentially the bytes on the U\+A\+R\+T2.

\begin{DoxyNote}{Note}
The data will be put into a queue, where it will be sent as soon as the U\+A\+R\+T is idle
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & pointer to the bytes that should be transmitted. \\
\hline
\mbox{\tt in}  & {\em length} & number of bytes to send. \\
\hline
\end{DoxyParams}


Definition at line 134 of file uart.\+c.

