\hypertarget{system__Timer__HDI_8c}{}\subsection{platform/e-\/puck/system\+\_\+\+Timer\+\_\+\+H\+D\+I.c File Reference}
\label{system__Timer__HDI_8c}\index{platform/e-\/puck/system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{platform/e-\/puck/system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}


Hardware dependent implementations to initialise, configure and run the system Timer.  


{\ttfamily \#include \char`\"{}system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../processes/system\+\_\+\+Timer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../processes/process\+\_\+\+Management.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}D\+S\+P\+I\+C30\+F6014\+A\+\_\+\+H\+D\+I.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../interrupts.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../definitions.\+h\char`\"{}}\\*
Include dependency graph for system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d9f/system__Timer__HDI_8c__incl}
\end{center}
\end{figure}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{system__Timer__HDI_8c_a497a8fc0d8469ede68e7a39e168cbcc5}{Sys\+\_\+\+Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I} (\hyperlink{definitions_8h_aed53e618f2025481fbe48a5098f70079}{p\+Function} scheduler)
\item 
void \hyperlink{system__Timer__HDI_8c_a2e6e9437813bbf1505911d76872d0385}{Sys\+\_\+\+Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{system__Timer__HDI_8c_a9cd39a1f0b9e1ca2cb69c5887df41334}{Sys\+\_\+\+Stop\+\_\+\+System\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{system__Timer__HDI_8c_a4b92fce48447ff9cadb348d39ee220e0}{Sys\+\_\+\+Continue\+\_\+\+System\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{system__Timer__HDI_8c_a5151567469f9fd2dc150406625224c8e}{Sys\+\_\+\+Reset\+\_\+\+System\+Timer\+\_\+\+H\+D\+I} ()
\item 
void \hyperlink{system__Timer__HDI_8c_a226557d5e42f7e29ddaff30606138459}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((interrupt, no\+\_\+auto\+\_\+psv))
\item 
void \hyperlink{system__Timer__HDI_8c_abb42ae4e4d2f45976c12798e03fcdbf6}{Sys\+\_\+\+Disable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I} (void)
\item 
void \hyperlink{system__Timer__HDI_8c_aa12b25e4e6cb56a2a4ca9f68aef8f4c1}{Sys\+\_\+\+Enable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I} (void)
\item 
void \hyperlink{system__Timer__HDI_8c_a9bb7823fb59824af8023b15e07492f7c}{Sys\+\_\+\+Force\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I} (void)
\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{definitions_8h_aed53e618f2025481fbe48a5098f70079}{p\+Function} \hyperlink{system__Timer__HDI_8c_aadb835800c4f3186f3aa4285d926c848}{sys\+\_\+process\+\_\+scheduler} = 0
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
Hardware dependent implementations to initialise, configure and run the system Timer. 

\begin{DoxyAuthor}{Author}
Stefan M. Trenkwalder \href{mailto:s.trenkwalder@openswarm.org}{\tt s.\+trenkwalder@openswarm.\+org}
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0
\end{DoxyVersion}
\begin{DoxyDate}{Date}
07 July 2014
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
adapted Free\+B\+S\+D License (see \href{http://openswarm.org/license}{\tt http\+://openswarm.\+org/license}) 
\end{DoxyCopyright}


\subsubsection{Function Documentation}
\hypertarget{system__Timer__HDI_8c_a226557d5e42f7e29ddaff30606138459}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{\+\_\+\+\_\+attribute\+\_\+\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(interrupt, no\+\_\+auto\+\_\+psv)}]{}
\end{DoxyParamCaption}
)}\label{system__Timer__HDI_8c_a226557d5e42f7e29ddaff30606138459}
This Function starts the task-\/scheduling algorithm 

Definition at line 105 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_a4b92fce48447ff9cadb348d39ee220e0}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Continue\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Continue\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Continue\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Continue\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Continue\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Continue\+\_\+\+System\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{system__Timer__HDI_8c_a4b92fce48447ff9cadb348d39ee220e0}
This Function deactivated the Timer2 Interrupt 

Definition at line 84 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_abb42ae4e4d2f45976c12798e03fcdbf6}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Disable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Disable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Disable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Disable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Disable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Disable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{system__Timer__HDI_8c_abb42ae4e4d2f45976c12798e03fcdbf6}
Disables the Timer2 interrupt and sets the interrupt flag to 0 

Definition at line 123 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_aa12b25e4e6cb56a2a4ca9f68aef8f4c1}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Enable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Enable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Enable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Enable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Enable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Enable\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{system__Timer__HDI_8c_aa12b25e4e6cb56a2a4ca9f68aef8f4c1}
Enables the Timer2 interrupt and leaves the interrupt flag to its value. If the flag was set, the Timer1 interrupt will be emitted after executing this function. 

Definition at line 133 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_a9bb7823fb59824af8023b15e07492f7c}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Force\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Force\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Force\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I@{Sys\+\_\+\+Force\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Force\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Force\+\_\+\+Timer\+Interrupt\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{system__Timer__HDI_8c_a9bb7823fb59824af8023b15e07492f7c}
forces the Timer2 interrupt. 

Definition at line 142 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_a497a8fc0d8469ede68e7a39e168cbcc5}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{{\bf p\+Function}}]{scheduler}
\end{DoxyParamCaption}
)}\label{system__Timer__HDI_8c_a497a8fc0d8469ede68e7a39e168cbcc5}
This Function sets the Timer0 of the D\+S\+P\+I\+C 30\+F6014\+A for timer interfvals of 10 ms. The timer will be startet with Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I()


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em scheduler} & This is a pointer t an callback function, which schuld becalled whenever a timer interrupt is emmitted. \\
\hline
\end{DoxyParams}


Definition at line 34 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_a5151567469f9fd2dc150406625224c8e}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Reset\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Reset\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Reset\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Reset\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Reset\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Reset\+\_\+\+System\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{system__Timer__HDI_8c_a5151567469f9fd2dc150406625224c8e}
This Function resets the Timer2 value 

Definition at line 96 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_a2e6e9437813bbf1505911d76872d0385}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Start\+\_\+\+System\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{system__Timer__HDI_8c_a2e6e9437813bbf1505911d76872d0385}
This Function starts the Timer2 of the D\+S\+P\+I\+C 30\+F6014\+A for timer interfvals of 10 ms. The M\+U\+S\+T be initialised first with Init\+\_\+\+System\+Timer\+\_\+\+H\+D\+I() $<$ interrupt priority for the system timer interrupt 

Definition at line 59 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

\hypertarget{system__Timer__HDI_8c_a9cd39a1f0b9e1ca2cb69c5887df41334}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!Sys\+\_\+\+Stop\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Stop\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}}
\index{Sys\+\_\+\+Stop\+\_\+\+System\+Timer\+\_\+\+H\+D\+I@{Sys\+\_\+\+Stop\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{Sys\+\_\+\+Stop\+\_\+\+System\+Timer\+\_\+\+H\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+\_\+\+Stop\+\_\+\+System\+Timer\+\_\+\+H\+D\+I (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{system__Timer__HDI_8c_a9cd39a1f0b9e1ca2cb69c5887df41334}
This Function activated the Timer2 Interrupt 

Definition at line 72 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.



\subsubsection{Variable Documentation}
\hypertarget{system__Timer__HDI_8c_aadb835800c4f3186f3aa4285d926c848}{}\index{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}!sys\+\_\+process\+\_\+scheduler@{sys\+\_\+process\+\_\+scheduler}}
\index{sys\+\_\+process\+\_\+scheduler@{sys\+\_\+process\+\_\+scheduler}!system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c@{system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c}}
\paragraph[{sys\+\_\+process\+\_\+scheduler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf p\+Function} sys\+\_\+process\+\_\+scheduler = 0}\label{system__Timer__HDI_8c_aadb835800c4f3186f3aa4285d926c848}


Definition at line 26 of file system\+\_\+\+Timer\+\_\+\+H\+D\+I.\+c.

